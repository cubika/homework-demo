KISSY.add("components/data",function(e,r,a){for(var t={"price|100-500":128,"shop|1":["特步","安踏","匹克","鸿星尔克","乔丹"],"deals|100-9000":200,assess:function(){return r.Random.integer(100,this.deals)}},i='<div class="product">			<div class="product-wrap">				<div class="productImg-wrap">					<a href="" class="productImg">						<img src="img/{{shop}}.jpg">					</a>				</div>				<div class="productPrice">					<em><b>¥</b>{{price}}.00</em>				</div>				<div class="productTitle">					<a href="">{{shop}}男鞋正品秋冬新款潮流休闲运动鞋男防滑加绒保暖棉鞋雪地鞋</a>				</div>				<div class="productShop">					<a href="">						{{shop}}官方旗舰店					</a>				</div>				<div class="productStatus">					<span>月成交 <em>{{deals}}笔</em></span>					<span>评价 <a href="">{{assess}}</a></span>				</div>			</div>		</div>',d="",l=r.Random.integer(3,10),o=0;l>o;o++)d+=new a(i).render(r.mock(t));return d},{requires:["mock","xtemplate"]}),KISSY.add("components/main",function(e,r,a,t,i,d){function l(e,r){var a,t,i=r.width,d=r.height,l=i/d;if(wrapperW=e.width,wrapperH=e.height,i>d){a=wrapperW;var l=i/wrapperW;t=d/l,t>wrapperH&&(l=t/wrapperH,a/=l,t=wrapperH)}else{t=wrapperH;var l=d/wrapperH;a=i/l,a>wrapperW&&(l=a/wrapperW,a=wrapperW,t/=l)}return{width:a,height:t,left:e.width/2-a/2,top:e.height/2-t/2}}function o(r,a){console.log("resize...");var t=l({width:e.all(window).width()-a.horizontal,height:e.all(window).height()-a.vertical},{width:r.width(),height:r.height()});d.css(r,{width:t.width,height:t.height,left:t.left+a.horizontal/2,top:t.top+a.vertical/2})}var s=new r({renderTo:"#J_Slide",autoRender:!1,autoSlide:!0,timeOut:3e3,crousel:!0});s.render(),e.all("#part2").append(a),t.on("a","click",function(e){e.preventDefault()});var n,p={vertical:140,horizontal:220};t.on(e.all("img","#part2"),"click",function(r){var a=e.all(r.target),t='<div>			<img id="overlayImg" src="'+d.attr(a,"src")+'" alt="">			<div class="description">				<h3 class="title">'+d.text(e.all(".productTitle",d.parent(a,".product")))+"</h3>			</div>		</div>";n&&n.destroy(),n=new i({zIndex:1e4,width:"100%",height:"100%",elCls:"overlayMask",mask:!0,content:t}),n.show(),o(e.all("#overlayImg"),p)}),t.delegate(document,"click",".overlayMask",function(){n&&n.hide()}),t.on(window,"resize",function(){e.all("#overlayImg")&&o(e.all("#overlayImg"),p)})},{requires:["gallery/xslide/1.0/index","./data","event","overlay","dom"]});